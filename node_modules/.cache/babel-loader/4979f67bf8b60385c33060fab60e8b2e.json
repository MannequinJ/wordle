{"ast":null,"code":"import ACTIONS from \"../Constants/ACTIONS\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case ACTIONS.KEY_PRESS:\n      // const newChar = action.payload.toUpperCase();\n      const newChar = { ...state.currentChar,\n        id: nanoid(),\n        text: action.payload.toUpperCase()\n      };\n\n      if (state.currentWord.length < 5) {\n        return { ...state,\n          currentChar: newChar,\n          currentWord: [...state.currentWord, newChar]\n        };\n      } else {\n        return { ...state,\n          currentChar: { ...state.currentChar,\n            text: action.payload\n          }\n        };\n      }\n\n    case ACTIONS.DELETE_CHAR:\n      return { ...state,\n        currentWord: state.currentWord.slice(0, -1)\n      };\n\n    case ACTIONS.CONFIRM_WORD:\n      //////////////\n      if (state.currentWord.length === 5) {\n        const newCurrentWord = state.currentWord.map((char, i) => {\n          let status;\n\n          for (let k = 0; k < state.mysteryWord.length; k++) {\n            if (char.text !== state.mysteryWord[k] && i !== k) {\n              status = \"wrong-char\";\n            } else if (char.text === state.mysteryWord[k] && i !== k) {\n              status = \"wrong-spot\";\n              break;\n            } else if (char.text === state.mysteryWord[k] && i === k) {\n              status = \"correct-spot\";\n              break;\n            }\n          }\n\n          return { ...char,\n            status: status\n          };\n        });\n\n        if (newCurrentWord.every(char => char.status === \"correct-spot\")) {\n          console.log(123);\n        } // console.log();\n        ////////////////\n\n\n        return { ...state,\n          wordsArr: [...state.wordsArr, newCurrentWord],\n          currentWord: []\n        };\n      } else {\n        return { ...state,\n          errorMessage: \"Not enough letters\"\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Files/Course/react-wordle-copy/wordle-copy/src/Functions/reducer.js"],"names":["ACTIONS","reducer","state","action","type","KEY_PRESS","newChar","currentChar","id","nanoid","text","payload","toUpperCase","currentWord","length","DELETE_CHAR","slice","CONFIRM_WORD","newCurrentWord","map","char","i","status","k","mysteryWord","every","console","log","wordsArr","errorMessage"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,sBAApB;;AACA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKJ,OAAO,CAACK,SAAb;AACE;AACA,YAAMC,OAAO,GAAG,EACd,GAAGJ,KAAK,CAACK,WADK;AAEdC,QAAAA,EAAE,EAAEC,MAAM,EAFI;AAGdC,QAAAA,IAAI,EAAEP,MAAM,CAACQ,OAAP,CAAeC,WAAf;AAHQ,OAAhB;;AAKA,UAAIV,KAAK,CAACW,WAAN,CAAkBC,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,eAAO,EACL,GAAGZ,KADE;AAELK,UAAAA,WAAW,EAAED,OAFR;AAGLO,UAAAA,WAAW,EAAE,CAAC,GAAGX,KAAK,CAACW,WAAV,EAAuBP,OAAvB;AAHR,SAAP;AAKD,OAND,MAMO;AACL,eAAO,EACL,GAAGJ,KADE;AAELK,UAAAA,WAAW,EAAE,EAAE,GAAGL,KAAK,CAACK,WAAX;AAAwBG,YAAAA,IAAI,EAAEP,MAAM,CAACQ;AAArC;AAFR,SAAP;AAID;;AACH,SAAKX,OAAO,CAACe,WAAb;AACE,aAAO,EACL,GAAGb,KADE;AAELW,QAAAA,WAAW,EAAEX,KAAK,CAACW,WAAN,CAAkBG,KAAlB,CAAwB,CAAxB,EAA2B,CAAC,CAA5B;AAFR,OAAP;;AAIF,SAAKhB,OAAO,CAACiB,YAAb;AACE;AACA,UAAIf,KAAK,CAACW,WAAN,CAAkBC,MAAlB,KAA6B,CAAjC,EAAoC;AAClC,cAAMI,cAAc,GAAGhB,KAAK,CAACW,WAAN,CAAkBM,GAAlB,CAAsB,CAACC,IAAD,EAAOC,CAAP,KAAa;AACxD,cAAIC,MAAJ;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,KAAK,CAACsB,WAAN,CAAkBV,MAAtC,EAA8CS,CAAC,EAA/C,EAAmD;AACjD,gBAAIH,IAAI,CAACV,IAAL,KAAcR,KAAK,CAACsB,WAAN,CAAkBD,CAAlB,CAAd,IAAsCF,CAAC,KAAKE,CAAhD,EAAmD;AACjDD,cAAAA,MAAM,GAAG,YAAT;AACD,aAFD,MAEO,IAAIF,IAAI,CAACV,IAAL,KAAcR,KAAK,CAACsB,WAAN,CAAkBD,CAAlB,CAAd,IAAsCF,CAAC,KAAKE,CAAhD,EAAmD;AACxDD,cAAAA,MAAM,GAAG,YAAT;AACA;AACD,aAHM,MAGA,IAAIF,IAAI,CAACV,IAAL,KAAcR,KAAK,CAACsB,WAAN,CAAkBD,CAAlB,CAAd,IAAsCF,CAAC,KAAKE,CAAhD,EAAmD;AACxDD,cAAAA,MAAM,GAAG,cAAT;AACA;AACD;AACF;;AACD,iBAAO,EACL,GAAGF,IADE;AAELE,YAAAA,MAAM,EAAEA;AAFH,WAAP;AAID,SAjBsB,CAAvB;;AAkBA,YAAIJ,cAAc,CAACO,KAAf,CAAsBL,IAAD,IAAUA,IAAI,CAACE,MAAL,KAAgB,cAA/C,CAAJ,EAAoE;AAClEI,UAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACD,SArBiC,CAsBlC;AACA;;;AACA,eAAO,EACL,GAAGzB,KADE;AAEL0B,UAAAA,QAAQ,EAAE,CAAC,GAAG1B,KAAK,CAAC0B,QAAV,EAAoBV,cAApB,CAFL;AAGLL,UAAAA,WAAW,EAAE;AAHR,SAAP;AAKD,OA7BD,MA6BO;AACL,eAAO,EACL,GAAGX,KADE;AAEL2B,UAAAA,YAAY,EAAE;AAFT,SAAP;AAID;;AACH;AACE,aAAO3B,KAAP;AA/DJ;AAiED,CAlED;;AAmEA,eAAeD,OAAf","sourcesContent":["import ACTIONS from \"../Constants/ACTIONS\";\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.KEY_PRESS:\r\n      // const newChar = action.payload.toUpperCase();\r\n      const newChar = {\r\n        ...state.currentChar,\r\n        id: nanoid(),\r\n        text: action.payload.toUpperCase(),\r\n      };\r\n      if (state.currentWord.length < 5) {\r\n        return {\r\n          ...state,\r\n          currentChar: newChar,\r\n          currentWord: [...state.currentWord, newChar],\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          currentChar: { ...state.currentChar, text: action.payload },\r\n        };\r\n      }\r\n    case ACTIONS.DELETE_CHAR:\r\n      return {\r\n        ...state,\r\n        currentWord: state.currentWord.slice(0, -1),\r\n      };\r\n    case ACTIONS.CONFIRM_WORD:\r\n      //////////////\r\n      if (state.currentWord.length === 5) {\r\n        const newCurrentWord = state.currentWord.map((char, i) => {\r\n          let status;\r\n          for (let k = 0; k < state.mysteryWord.length; k++) {\r\n            if (char.text !== state.mysteryWord[k] && i !== k) {\r\n              status = \"wrong-char\";\r\n            } else if (char.text === state.mysteryWord[k] && i !== k) {\r\n              status = \"wrong-spot\";\r\n              break;\r\n            } else if (char.text === state.mysteryWord[k] && i === k) {\r\n              status = \"correct-spot\";\r\n              break;\r\n            }\r\n          }\r\n          return {\r\n            ...char,\r\n            status: status,\r\n          };\r\n        });\r\n        if (newCurrentWord.every((char) => char.status === \"correct-spot\")) {\r\n          console.log(123);\r\n        }\r\n        // console.log();\r\n        ////////////////\r\n        return {\r\n          ...state,\r\n          wordsArr: [...state.wordsArr, newCurrentWord],\r\n          currentWord: [],\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          errorMessage: \"Not enough letters\",\r\n        };\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}